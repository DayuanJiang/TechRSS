---
import Layout from '../layouts/Layout.astro';
import { listDigestDates } from '../lib/data';

const dates = listDigestDates();
const latestDate = dates[0];
const base = import.meta.env.BASE_URL.replace(/\/?$/, '/');
---
<Layout title="TechDigest">
  {latestDate ? (
    <meta http-equiv="refresh" content={`0;url=${base}day/${latestDate}`} />
    <p>跳转到 <a class="text-accent-warm hover:underline" href={`${base}day/${latestDate}`}>最新摘要 ({latestDate})</a>...</p>
  ) : (
    <div class="text-center py-16 text-text-tertiary">
      <h2 class="mb-2 text-text-secondary text-lg">暂无摘要</h2>
      <p>等待第一次每日摘要生成...</p>
    </div>
  )}
</Layout>
